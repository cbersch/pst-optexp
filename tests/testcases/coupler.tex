\begin{pspicture}[showgrid](3,1)
\optcoupler[variable](0,1)(0,0)(3,1)(3,0)
\end{pspicture}
\begin{pspicture}[showgrid](3,1)
\optcoupler[couplersize=0.5,couplertype=rectangle,variable](0,1)(0,0)(3,1)(3,0)
\end{pspicture}
\begin{pspicture}[showgrid](3,1)
\optcoupler[couplertype=none,linewidth=2\pslinewidth,variable](0,1)(0,0)(3,1)(3,0)
\optcoupler[couplertype=none,linecolor=red,variable](0,1)(0,0)(3,1)(3,0)
\end{pspicture}
\bigskip

\subsection{Alignment of \textbackslash optcoupler types}
\begingroup
\psset[optexp]{coupleralign=center}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=none](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=ellipse](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=rectangle](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=cross](A)(B)(C)(D)
\end{pspicture}
\endgroup
\bigskip

\begingroup
\psset[optexp]{coupleralign=top}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=none](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=ellipse](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=rectangle](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=cross](A)(B)(C)(D)
\end{pspicture}
\endgroup
\bigskip

\begingroup
\psset[optexp]{coupleralign=bottom}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=none](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=ellipse](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=rectangle](A)(B)(C)(D)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}\pnode(3,0){D}
  \optcoupler[couplertype=cross](A)(B)(C)(D)
\end{pspicture}
\endgroup

\subsection{Alignment of \textbackslash wdmcoupler types}
\begingroup
\psset[optexp]{coupleralign=center}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=none}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0.5){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=ellipse}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0.5){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=rectangle}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0.5){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=cross}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0.5){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\endgroup
\bigskip

\begingroup
\psset[optexp]{coupleralign=top}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=none}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=ellipse}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=rectangle}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=cross}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,1){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\endgroup
\bigskip

\begingroup
\psset[optexp]{coupleralign=bottom}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=none}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=ellipse}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=rectangle}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=cross}
  \pnode(0,1){A}\pnode(0,0){B}\pnode(3,0){C}
  \wdmcoupler(A)(B)(C)
\end{pspicture}
\endgroup

\subsection{Alignment of \textbackslash wdmsplitter types}
\begingroup
\psset[optexp]{coupleralign=center}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=none}
  \pnode(0,0.5){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=ellipse}
  \pnode(0,0.5){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=rectangle}
  \pnode(0,0.5){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=cross}
  \pnode(0,0.5){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\endgroup
\bigskip

\begingroup
\psset[optexp]{coupleralign=top}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=none}
  \pnode(0,1){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=ellipse}
  \pnode(0,1){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=rectangle}
  \pnode(0,1){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=cross}
  \pnode(0,1){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\endgroup
\bigskip

\begingroup
\psset[optexp]{coupleralign=bottom}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=none}
  \pnode(0,0){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=ellipse}
  \pnode(0,0){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=rectangle}
  \pnode(0,0){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\begin{pspicture}[showgrid](-0.2,-0.2)(3.2,1.2)
  \psset{couplertype=cross}
  \pnode(0,0){A}\pnode(3,1){B}\pnode(3,0){C}
  \wdmsplitter(A)(B)(C)
\end{pspicture}
\endgroup

\subsection{Using only two nodes for coupler}
\begin{pspicture}[showgrid](3,2)
  \pnode(0,1){A}\pnode(3,1){B}
  \optcoupler[coupleralign=t](A)(B)
  \drawfiber[linecolor=red]{([offset=0.5]A)}{}{([offset=0.5]B)}
  \drawfiber[linecolor=red]{([offset=-0.5]A)}{}{([offset=-0.5]B)}
\end{pspicture}
\begin{pspicture}[showgrid](3,2)
  \pnode(0,1){A}\pnode(3,1){B}
  \optcoupler(A)(B)
  \drawfiber[linecolor=red]{([offset=0.5]A)}{}{([offset=0.5]B)}
  \drawfiber[linecolor=red]{([offset=-0.5]A)}{}{([offset=-0.5]B)}
\end{pspicture}
\begin{pspicture}[showgrid](3,2)
  \pnode(0,1){A}\pnode(3,1){B}
  \optcoupler[coupleralign=b](A)(B)
  \drawfiber[linecolor=red]{([offset=0.5]A)}{}{([offset=0.5]B)}
  \drawfiber[linecolor=red]{([offset=-0.5]A)}{}{([offset=-0.5]B)}
\end{pspicture}

\begin{pspicture}(4,2)
  \pnode(0,1){A}\pnode(4,1){B}
  \psset[optexp]{fiber=none}
  \wdmsplitter[position=0.2, coupleralign=b](A)(B)
  \wdmcoupler[position=0.8, coupleralign=t](A)(B)
  \drawfiber{(A)}{1}{2}{(B)}
  \drawfiber{1}{([offset=0.5, Xnodesep=1]\oenodeIfc{2}{1})}
  \drawfiber{([offset=-0.5, Xnodesep=-1]\oenodeIfc{2}{2})}{2}
\end{pspicture}

\subsection{Using multiple nodes for wdmcoupler and wdmsplitter}
\begin{pspicture}[showgrid](14,2)
  \pnodes(0,2){A}(0,0.5){B}(0,0){C}(4,1){D}
  \wdmcoupler(A)(B)(C)(D)
  \pnodes(5,2){E}(5,0.5){F}(5,0){G}(9,2){H}
  \wdmcoupler[coupleralign=t](E)(F)(G)(H)
  \pnodes(10,2){I}(10,0.5){J}(10,0){K}(14,0){L}
  \wdmcoupler[coupleralign=b](I)(J)(K)(L)
\end{pspicture}
\bigskip

\begin{pspicture}[showgrid](4,2)
 \newpsstyle{FiberIn}{linecolor=green}
 \newpsstyle{FiberIn1}{linecolor=red}
 \newpsstyle{FiberIn2}{linecolor=blue}
 \pnodes(0,2){A}(0,1.5){B}(0,0.5){C}(0,0){D}(4,1){E}
 \wdmcoupler(A)(B)(C)(D)(E)
\end{pspicture}
\bigskip

\begin{pspicture}[showgrid](14,2)
  \pnodes(0,1){A}(4,2){B}(4,0.5){C}(4,0){D}
  \wdmsplitter(A)(B)(C)(D)
  \pnodes(5,2){E}(9,2){F}(9,0.5){G}(9,0){H}
  \wdmsplitter[coupleralign=t](E)(F)(G)(H)
  \pnodes(10,2){I}(14,2){J}(14,0.5){K}(14,0){L}
  \wdmsplitter[coupleralign=b](I)(J)(K)(L)
\end{pspicture}
\bigskip

\begin{pspicture}[showgrid](4,2)
  \newpsstyle{FiberOut}{linecolor=green}
  \newpsstyle{FiberOut1}{linecolor=red}
  \newpsstyle{FiberOut2}{linecolor=blue}
  \pnodes(0,1){A}(4,2){B}(4,1.5){C}(4,0.5){D}(4,0){E}
  \wdmsplitter(A)(B)(C)(D)(E)
\end{pspicture}

\newpage
\subsection{Variable coupler}
\psset[optexp]{couplersep=}
\begin{pspicture}[showgrid](3,1)
\optcoupler[variable](0,1)(0,0)(3,1)(3,0)
\end{pspicture}
\begin{pspicture}[showgrid](3,1)
\optcoupler[couplersize=0.5,couplertype=rectangle,variable](0,1)(0,0)(3,1)(3,0)
\end{pspicture}
\begin{pspicture}[showgrid](3,1)
\optcoupler[couplertype=none,linewidth=2\pslinewidth,variable](0,1)(0,0)(3,1)(3,0)
\optcoupler[couplertype=none,linecolor=red,variable](0,1)(0,0)(3,1)(3,0)
\end{pspicture}
\bigskip
